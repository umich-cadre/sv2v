# sv2v
System Verilog to Verilog
Although the DC shell could convert System Verilog code to Verilog code, the implementation of each converted module is unknown. This project aims to implement the modules in the verilog code generated by DC shell. This README mainly introduces how to use the Makefile.
## umich_snps_lib.v
The file where our modules are implemented
## tests
There is a tests folder in the repo. Each test contains two files:
1. {test_name}.orig.v is the original code that will be converted by dc.
2. {test_name}.tb.v is the testbench that both the original code and the converted code will run against to.
(The picorv32 test is a 32 bit processor from an open source)
## cdn_sv2v.sh & snps_sv2v.sh
This is the script does mainly the following things:
1. Run the dc_shell on the target
2. Change the module names in the converted file into UMICH_{previous_name}
**REMARK** 
Add the line at the end of sv2v.sh everytime we add a new module to the umich_lib.v:
```bash
sed -i 's/\b{original_module_name}\b/UMICH_{original_module_name}/' $OUTPUT_CONV_FILE_NAME
```
## Makefile
To run an individual test:
```Makefile
make test-{test_name}
```
To run all the tests:
```Makefile
make test
```
After running the command, the diff result between the one running against our library and the correct will be printed out.
The result will be stored in the *tests* folder. The result contains two folders, the one with the correct result and one with our result.
To remove all the generated results, run:
```Makefile
make clean
```


